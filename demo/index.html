<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>nuan-utils Demo - è®¾å¤‡æ£€æµ‹</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      padding: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
    }
    
    h1 {
      color: #333;
      margin-bottom: 10px;
      font-size: 28px;
    }
    
    .subtitle {
      color: #666;
      margin-bottom: 30px;
      font-size: 14px;
    }
    
    .result-card {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      border-left: 4px solid #667eea;
    }
    
    .result-item {
      margin-bottom: 12px;
      display: flex;
      align-items: center;
    }
    
    .result-label {
      font-weight: 600;
      color: #555;
      min-width: 120px;
      display: inline-block;
    }
    
    .result-value {
      color: #333;
      font-family: 'Monaco', 'Courier New', monospace;
      padding: 4px 12px;
      background: white;
      border-radius: 4px;
      display: inline-block;
    }
    
    .badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      margin-left: 10px;
    }
    
    .badge.pc {
      background: #e3f2fd;
      color: #1976d2;
    }
    
    .badge.mobile {
      background: #fff3e0;
      color: #f57c00;
    }
    
    .badge.tablet {
      background: #f3e5f5;
      color: #7b1fa2;
    }
    
    .user-agent {
      background: #f5f5f5;
      padding: 15px;
      border-radius: 6px;
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 12px;
      color: #666;
      word-break: break-all;
      margin-top: 15px;
    }
    
    .test-section {
      margin-top: 30px;
      padding-top: 30px;
      border-top: 1px solid #eee;
    }
    
    .test-input {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 12px;
      margin-bottom: 10px;
    }
    
    .test-button {
      background: #667eea;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      transition: background 0.3s;
    }
    
    .test-button:hover {
      background: #5568d3;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ” è®¾å¤‡æ£€æµ‹ Demo</h1>
    <p class="subtitle">nuan-utils - deviceDetection å‡½æ•°ç¤ºä¾‹</p>
    
    <div class="result-card">
      <h2 style="margin-bottom: 15px; color: #333;">å½“å‰è®¾å¤‡ä¿¡æ¯</h2>
      <div class="result-item">
        <span class="result-label">è®¾å¤‡ç±»å‹:</span>
        <span class="result-value" id="deviceType">-</span>
        <span class="badge" id="deviceBadge"></span>
      </div>
      <div class="result-item">
        <span class="result-label">æ˜¯å¦ä¸º PC:</span>
        <span class="result-value" id="isPC">-</span>
      </div>
      <div class="result-item">
        <span class="result-label">æ˜¯å¦ä¸ºç§»åŠ¨ç«¯:</span>
        <span class="result-value" id="isMobile">-</span>
      </div>
      <div class="result-item">
        <span class="result-label">æ˜¯å¦ä¸ºå¹³æ¿:</span>
        <span class="result-value" id="isTablet">-</span>
      </div>
      <div class="user-agent" id="userAgent"></div>
    </div>
    
    <div class="test-section">
      <h2 style="margin-bottom: 15px; color: #333;">æµ‹è¯•è‡ªå®šä¹‰ User-Agent</h2>
      <input 
        type="text" 
        class="test-input" 
        id="testUA" 
        placeholder="è¾“å…¥ User-Agent å­—ç¬¦ä¸²è¿›è¡Œæµ‹è¯•ï¼Œä¾‹å¦‚: Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X)..."
      />
      <button class="test-button" onclick="testCustomUA()">æ£€æµ‹</button>
      <div class="result-card" id="testResult" style="display: none; margin-top: 15px;">
        <h3 style="margin-bottom: 15px; color: #333;">æµ‹è¯•ç»“æœ</h3>
        <div id="testResultContent"></div>
      </div>
    </div>
  </div>

  <script type="module">
    // è¿™é‡Œå‡è®¾å·²ç»æ„å»ºå¥½çš„åº“æ–‡ä»¶
    // åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œéœ€è¦å…ˆè¿è¡Œ npm run buildï¼Œç„¶åå¼•å…¥ dist/index.esm.js
    
    // ä¸ºäº†æ¼”ç¤ºï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨æºç é€»è¾‘ï¼ˆå®é™…é¡¹ç›®ä¸­åº”è¯¥å¼•å…¥æ„å»ºåçš„æ–‡ä»¶ï¼‰
    function deviceDetection(userAgent) {
      const ua = userAgent || (typeof navigator !== 'undefined' ? navigator.userAgent : '');
      
      const mobileRegex = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i;
      const isMobileDevice = mobileRegex.test(ua);
      
      const tabletRegex = /iPad|Android(?!.*Mobile)|Tablet|PlayBook|Silk/i;
      const isTabletDevice = tabletRegex.test(ua);
      
      let deviceType;
      if (isTabletDevice) {
        deviceType = 'tablet';
      } else if (isMobileDevice) {
        deviceType = 'mobile';
      } else {
        deviceType = 'pc';
      }
      
      return {
        type: deviceType,
        isPC: deviceType === 'pc',
        isMobile: deviceType === 'mobile',
        isTablet: deviceType === 'tablet',
        userAgent: ua
      };
    }
    
    // æ˜¾ç¤ºå½“å‰è®¾å¤‡ä¿¡æ¯
    function displayDeviceInfo() {
      const result = deviceDetection();
      
      document.getElementById('deviceType').textContent = result.type.toUpperCase();
      document.getElementById('isPC').textContent = result.isPC ? 'æ˜¯' : 'å¦';
      document.getElementById('isMobile').textContent = result.isMobile ? 'æ˜¯' : 'å¦';
      document.getElementById('isTablet').textContent = result.isTablet ? 'æ˜¯' : 'å¦';
      document.getElementById('userAgent').textContent = result.userAgent;
      
      // è®¾ç½®å¾½ç« 
      const badge = document.getElementById('deviceBadge');
      badge.textContent = result.type.toUpperCase();
      badge.className = 'badge ' + result.type;
    }
    
    // æµ‹è¯•è‡ªå®šä¹‰ User-Agent
    window.testCustomUA = function() {
      const ua = document.getElementById('testUA').value;
      if (!ua.trim()) {
        alert('è¯·è¾“å…¥ User-Agent å­—ç¬¦ä¸²');
        return;
      }
      
      const result = deviceDetection(ua);
      const resultCard = document.getElementById('testResult');
      const resultContent = document.getElementById('testResultContent');
      
      resultContent.innerHTML = `
        <div class="result-item">
          <span class="result-label">è®¾å¤‡ç±»å‹:</span>
          <span class="result-value">${result.type.toUpperCase()}</span>
          <span class="badge ${result.type}">${result.type.toUpperCase()}</span>
        </div>
        <div class="result-item">
          <span class="result-label">æ˜¯å¦ä¸º PC:</span>
          <span class="result-value">${result.isPC ? 'æ˜¯' : 'å¦'}</span>
        </div>
        <div class="result-item">
          <span class="result-label">æ˜¯å¦ä¸ºç§»åŠ¨ç«¯:</span>
          <span class="result-value">${result.isMobile ? 'æ˜¯' : 'å¦'}</span>
        </div>
        <div class="result-item">
          <span class="result-label">æ˜¯å¦ä¸ºå¹³æ¿:</span>
          <span class="result-value">${result.isTablet ? 'æ˜¯' : 'å¦'}</span>
        </div>
        <div class="user-agent">${result.userAgent}</div>
      `;
      
      resultCard.style.display = 'block';
    };
    
    // åˆå§‹åŒ–
    displayDeviceInfo();
  </script>
</body>
</html>

